(this["webpackJsonpknowledge-management-system"]=this["webpackJsonpknowledge-management-system"]||[]).push([[0],{100:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(17),r=n.n(i),s=(n(99),n(18)),o=n(11),l=n(152),d=n(155),j=(n(100),n.p+"static/media/bg.6afd00ef.svg"),u=n(24),b=n(13),m=n(33),h=n(157),O=n(176),f=n(158),p=n(159),x=Object(a.createContext)(null),g=n(53);n(103),n(104),n(105);g.a.initializeApp({apiKey:"AIzaSyDGVln4xAFWvjvlVIbjH69qopgi4lhQYko",authDomain:"knowledge-management-sys-e5f4b.firebaseapp.com",projectId:"knowledge-management-sys-e5f4b",storageBucket:"knowledge-management-sys-e5f4b.appspot.com",messagingSenderId:"538959031832",appId:"1:538959031832:web:735901bb79a2d89fcbdd6d"});var v=g.a.firestore(),C=g.a.auth(),N=g.a.storage();function k(e){return"/knowledge-management-system"+e}var y=n(3),w=Object(l.a)((function(e){return{header:{backgroundColor:e.palette.primary.main,color:"white",padding:e.spacing(2),position:"relative"},nav:Object(m.a)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{"& $openNavButton":{display:"flex"},"& $mainNavList":{zIndex:10,position:"absolute",left:0,backgroundColor:e.palette.primary.main,width:"100%",flexDirection:"column","& li":{padding:e.spacing(1),paddingLeft:e.spacing(3),margin:0}}}),navList:{padding:0,margin:0,listStyleType:"none",display:"flex"},mainNavList:{top:"-200%",transition:"all 0.25s"},mainNavListOpen:{top:"100%"},link:{color:"white",textDecoration:"none",margin:e.spacing(0,1)},activeLink:{fontWeight:"bold"},accountMenuButton:{display:"flex",alignItems:"center",cursor:"pointer"},accountMenu:{padding:e.spacing(2),display:"flex",flexDirection:"column",width:100,"& $link":{color:e.palette.text.primary,cursor:"pointer","&:hover":{fontWeight:"bold"}}},openNavButton:{color:"white",padding:0,display:"none"}}}));function S(){var e=w(),t=Object(a.useContext)(x),n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(!1),l=Object(o.a)(s,2),j=l[0],b=l[1];return Object(y.jsx)("header",{className:e.header,children:Object(y.jsx)(d.a,{maxWidth:"md",children:Object(y.jsxs)("nav",{className:e.nav,children:[Object(y.jsx)(h.a,{size:"small",className:e.openNavButton,onClick:function(){return b((function(e){return!e}))},children:Object(y.jsx)(f.a,{color:"inherit",fontSize:"small"})}),Object(y.jsxs)("ul",{className:"".concat(e.navList," ").concat(e.mainNavList," ").concat(j&&e.mainNavListOpen),onClick:function(){return b(!1)},children:[Object(y.jsx)("li",{children:Object(y.jsx)(u.c,{exact:!0,to:"".concat("/knowledge-management-system/"),className:e.link,activeClassName:e.activeLink,children:"Home"})}),Object(y.jsx)("li",{children:Object(y.jsx)(u.c,{to:"".concat("/knowledge-management-system/forum"),className:e.link,activeClassName:e.activeLink,children:"Forum"})}),Object(y.jsx)("li",{children:Object(y.jsx)(u.c,{to:"".concat("/knowledge-management-system/repository"),className:e.link,activeClassName:e.activeLink,children:"Repository"})})]}),t?Object(y.jsxs)("ul",{className:e.navList,children:[Object(y.jsxs)("li",{className:e.accountMenuButton,onClick:function(e){return r(e.currentTarget)},children:[Object(y.jsx)(p.a,{}),Object(y.jsx)("span",{children:t.name})]}),Object(y.jsx)(O.a,{open:!!i,anchorEl:i,onClose:function(){return r(null)},onClick:function(){return r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(y.jsxs)("div",{className:e.accountMenu,children:[Object(y.jsx)(u.b,{to:k("/profile"),children:Object(y.jsx)("span",{className:e.link,children:"Profile"})}),Object(y.jsx)("span",{onClick:function(){return C.signOut()},className:e.link,children:"Sign Out"})]})})]}):Object(y.jsxs)("ul",{className:e.navList,children:[Object(y.jsx)("li",{children:Object(y.jsx)(u.c,{to:"".concat("/knowledge-management-system/signin"),className:e.link,activeClassName:e.activeLink,children:"Sign In"})}),Object(y.jsx)("li",{children:Object(y.jsx)(u.c,{to:"".concat("/knowledge-management-system/signup"),className:e.link,activeClassName:e.activeLink,children:"Sign Up"})})]})]})})})}var I=n(160),B=Object(l.a)((function(e){return{lightOn:{fill:"#FFFDE7"},lightOff:{},switchButton:{cursor:"pointer"},switchButtonOn:{},switchButtonOff:{transform:"rotate(180deg)",transformOrigin:"56.46945px 306.142px"},shine:{transition:"all 1s"},shineOn:{opacity:"0.487864",transition:"all 1s"},shineOff:{opacity:0}}}));function W(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],i=B();return Object(y.jsxs)("svg",{width:"432",height:"367",viewBox:"0 0 432 367",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(y.jsxs)("g",{id:"container",children:[Object(y.jsxs)("g",{id:"lightbulb",children:[Object(y.jsx)("path",{id:"shine3",className:"".concat(n?i.shineOn:i.shineOff),d:"M272.095 311.564C360.408 311.564 432 241.818 432 155.782C432 69.7459 360.408 0 272.095 0C183.782 0 112.19 69.7459 112.19 155.782C112.19 241.818 183.782 311.564 272.095 311.564Z",fill:"#FFFFA8"}),Object(y.jsx)("path",{id:"shine2",className:"".concat(n?i.shineOn:i.shineOff),d:"M272.095 289.127C347.688 289.127 408.969 229.426 408.969 155.782C408.969 82.1374 347.688 22.4369 272.095 22.4369C196.501 22.4369 135.22 82.1374 135.22 155.782C135.22 229.426 196.501 289.127 272.095 289.127Z",fill:"#FFFFDC"}),Object(y.jsx)("path",{id:"shine1",className:"".concat(n?i.shineOn:i.shineOff),d:"M272.095 264.881C333.943 264.881 384.082 216.036 384.082 155.782C384.082 95.528 333.943 46.6827 272.095 46.6827C210.246 46.6827 160.108 95.528 160.108 155.782C160.108 216.036 210.246 264.881 272.095 264.881Z",fill:"white"}),Object(y.jsx)("path",{id:"bulb",className:n?i.lightOn:i.lightOff,d:"M272.072 67.3763C221.558 67.389 180.615 108.342 180.615 158.855C180.615 170.255 182.746 181.555 186.898 192.172L230.518 308.556H313.671L357.294 192.172H357.291C361.443 181.555 363.574 170.255 363.575 158.855C363.574 108.333 322.618 67.3769 272.096 67.3763H272.072Z",stroke:"black",strokeWidth:"0.2794"}),Object(y.jsx)("path",{id:"rect888",d:"M230.519 308.556H313.671V352.619C313.671 353.868 313.175 355.067 312.291 355.95C311.408 356.834 310.209 357.33 308.96 357.33H235.23C234.611 357.33 233.998 357.208 233.427 356.972C232.855 356.735 232.336 356.388 231.898 355.95C231.461 355.513 231.114 354.993 230.877 354.422C230.64 353.85 230.519 353.238 230.519 352.619V308.556Z",fill:"#999999",stroke:"black",strokeWidth:"0.2794"}),Object(y.jsx)("path",{id:"rect890",d:"M300.155 357.33H244.034V366H300.155V357.33Z",fill:"#999999",stroke:"black",strokeWidth:"0.2794"}),Object(y.jsxs)("g",{id:"g920",children:[Object(y.jsx)("path",{id:"path892",d:"M256.61 187.352C260.886 187.352 264.352 178.718 264.352 168.068C264.352 157.418 260.886 148.784 256.61 148.784C252.334 148.784 248.868 157.418 248.868 168.068C248.868 178.718 252.334 187.352 256.61 187.352Z",stroke:"black",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"ellipse894",d:"M272.095 187.352C276.371 187.352 279.837 178.718 279.837 168.068C279.837 157.418 276.371 148.784 272.095 148.784C267.819 148.784 264.352 157.418 264.352 168.068C264.352 178.718 267.819 187.352 272.095 187.352Z",stroke:"black",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"ellipse896",d:"M287.58 187.352C291.856 187.352 295.322 178.718 295.322 168.068C295.322 157.418 291.856 148.784 287.58 148.784C283.304 148.784 279.837 157.418 279.837 168.068C279.837 178.718 283.304 187.352 287.58 187.352Z",stroke:"black",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"path907",d:"M256.61 187.352L272.095 308.556L287.579 187.352",stroke:"black",strokeWidth:"0.529167"})]}),Object(y.jsx)("path",{id:"path925",opacity:"0.56068",d:"M298.269 102.076C313.028 113.468 330.536 120.86 337.375 118.586C344.213 116.312 337.792 105.234 323.032 93.8426C308.273 82.451 290.765 75.0595 283.927 77.3332C277.089 79.6069 283.51 90.6848 298.269 102.076Z",fill:"white"}),Object(y.jsx)("path",{id:"rect927",opacity:"0.371359",d:"M300.155 357.33H244.034V360.712H300.155V357.33Z",fill:"black"}),Object(y.jsx)("path",{id:"path929",d:"M226.779 316.758H317.411",stroke:"black",strokeWidth:"0.276226"}),Object(y.jsx)("path",{id:"path931",d:"M226.779 349.79H317.411",stroke:"black",strokeWidth:"0.276226"}),Object(y.jsx)("path",{id:"path933",d:"M226.779 325.016H317.411",stroke:"black",strokeWidth:"0.276226"}),Object(y.jsx)("path",{id:"path935",d:"M226.779 341.532H317.411",stroke:"black",strokeWidth:"0.276226"}),Object(y.jsx)("path",{id:"path937",d:"M226.779 333.274H317.411",stroke:"black",strokeWidth:"0.276226"})]}),Object(y.jsxs)("g",{id:"switch",children:[Object(y.jsx)("path",{id:"rect833",d:"M111.939 250.246H1V362.038H111.939V250.246Z",fill:"#F9F9F9",stroke:"black",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"rect839",d:"M38.2528 278.694C38.2528 297.16 38.2528 315.626 38.2528 334.091C50.3975 334.091 62.5421 334.091 74.6867 334.091C74.6867 315.459 74.6867 296.827 74.6867 278.194C62.5421 278.194 50.3975 278.194 38.2528 278.194C38.2528 278.361 38.2528 278.527 38.2528 278.694V278.694Z",fill:"black"}),Object(y.jsxs)("g",{className:"".concat(i.switchButton," ").concat(n?i.switchButtonOn:i.switchButtonOff),id:"switchButton",onClick:function(){return c(!n)},children:[Object(y.jsx)("path",{id:"rect835",d:"M73.1884 289.683H39.7505V332.593H73.1884V289.683Z",fill:"white",stroke:"#999999",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"rect847",d:"M41.2945 279.691L39.7505 289.683H73.1884L71.6445 279.691H41.2945Z",fill:"white",stroke:"#808080",strokeWidth:"0.529167"}),Object(y.jsx)("path",{id:"rect844",opacity:"0.32767",d:"M73.1884 314.981H39.7505V332.593H73.1884V314.981Z",fill:"url(#paint0_linear)"}),Object(y.jsx)("path",{id:"path870",d:"M41.2945 279.691L39.7505 289.683H73.1884L71.6445 279.691H41.2945Z",fill:"url(#paint1_linear)"})]})]})]}),Object(y.jsxs)("defs",{children:[Object(y.jsxs)("linearGradient",{id:"paint0_linear",x1:"58.4467",y1:"332.527",x2:"58.2933",y2:"314.891",gradientUnits:"userSpaceOnUse",children:[Object(y.jsx)("stop",{stopOpacity:"0.398058"}),Object(y.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),Object(y.jsxs)("linearGradient",{id:"paint1_linear",x1:"56.4695",y1:"279.691",x2:"56.4695",y2:"284.922",gradientUnits:"userSpaceOnUse",children:[Object(y.jsx)("stop",{stopOpacity:"0.526699"}),Object(y.jsx)("stop",{offset:"1",stopOpacity:"0"})]})]})]})}var F=Object(l.a)((function(e){return{container:Object(m.a)({display:"flex",justifyContent:"space-between",flexWrap:"wrap"},e.breakpoints.down("sm"),{}),title:{textAlign:"left",margin:0,width:"min-content",fontSize:"3rem",lineHeight:1.1},subTitle:{textAlign:"left",margin:0,color:e.palette.text.secondary},callToAction:{textTransform:"none",fontWeight:"bold",marginTop:e.spacing(3)},mainLeft:{textAlign:"left"},mainRight:Object(m.a)({},e.breakpoints.down("sm"),{display:"none"})}}));function A(){var e=F(),t=Object(a.useContext)(x);return Object(y.jsxs)("div",{className:e.container,children:[Object(y.jsxs)("div",{className:e.mainLeft,children:[Object(y.jsx)("h1",{className:e.title,children:"Knowledge Management System"}),Object(y.jsx)("h2",{className:e.subTitle,children:"Share Your Ideas"}),t?Object(y.jsx)(u.b,{to:k("/profile"),children:Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:e.callToAction,children:"Your Profile"})}):Object(y.jsx)(u.b,{to:k("/signup"),children:Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:e.callToAction,children:"Create Account"})})]}),Object(y.jsx)("div",{className:e.mainRight,children:Object(y.jsx)(W,{})})]})}var L=n(124),T=n(173),M=Object(l.a)((function(e){return{form:{display:"flex",flexDirection:"column"},title:{margin:e.spacing(0)},submitButton:{marginTop:e.spacing(2)},container:{padding:e.spacing(3,3,3,3)}}}));function D(){var e=M(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],j=s[1],u=Object(a.useState)(""),b=Object(o.a)(u,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(o.a)(O,2),p=f[0],x=f[1];return Object(y.jsx)(d.a,{maxWidth:"xs",children:Object(y.jsxs)(L.a,{elevation:3,className:e.container,children:[Object(y.jsx)("h1",{className:e.title,children:"Sign Up"}),Object(y.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),console.log("test"),C.createUserWithEmailAndPassword(m,p).then((function(e){var t=e.user;t&&v.collection("userProfiles").doc(t.uid).set({name:c,bio:l}).then().catch()})).catch((function(e){console.log(e)}))},children:[Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",label:"Full Name",value:c,onChange:function(e){return i(e.target.value)}}),Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",label:"Bio",value:l,onChange:function(e){return j(e.target.value)}}),Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",type:"email",label:"E-mail",value:m,onChange:function(e){return h(e.target.value)}}),Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",type:"password",label:"Password",value:p,onChange:function(e){return x(e.target.value)}}),Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:e.submitButton,type:"submit",children:"Sign Up"})]})]})})}var H=Object(l.a)((function(e){return{form:{display:"flex",flexDirection:"column"},title:{margin:e.spacing(0)},submitButton:{marginTop:e.spacing(2)},container:{padding:e.spacing(3,3,3,3)}}}));function P(){var e=H(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],j=s[1];return Object(y.jsx)(d.a,{maxWidth:"xs",children:Object(y.jsxs)(L.a,{elevation:3,className:e.container,children:[Object(y.jsx)("h1",{className:e.title,children:"Sign In"}),Object(y.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),console.log("test"),C.signInWithEmailAndPassword(c,l).then((function(e){})).catch((function(e){console.log(e)}))},children:[Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",type:"email",label:"E-mail",value:c,onChange:function(e){return i(e.target.value)}}),Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",type:"password",label:"Password",value:l,onChange:function(e){return j(e.target.value)}}),Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:e.submitButton,type:"submit",children:"Sign Up"})]})]})})}var U=n(68),E=n.n(U),Z=n(83),V=n(162),z=n(163),R=n(165),_=n(164),Y=Object(l.a)((function(e){return{createButton:{textTransform:"none",fontWeight:"bold"},createLink:{color:"white",textDecoration:"none",display:"flex"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},articleCard:{textAlign:"left",marginBottom:e.spacing(2),cursor:"pointer"},articleCardTitle:{margin:0,"&:hover":{textDecoration:"underline"}},articleCardUserName:{margin:0,color:e.palette.text.secondary,fontWeight:e.typography.fontWeightRegular,"&:hover":{textDecoration:"underline"}}}}));function G(){var e=Y(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],r=c.map((function(t){return Object(y.jsx)(V.a,{className:e.articleCard,children:Object(y.jsxs)(z.a,{children:[Object(y.jsx)(u.b,{to:k("/forum/view/".concat(t.id)),children:Object(y.jsx)("h2",{className:e.articleCardTitle,children:t.title})}),Object(y.jsxs)("h3",{className:e.articleCardUserName,children:["By ",t.userName]})]})},t.id)}));return Object(a.useEffect)((function(){v.collection("articles").onSnapshot((function(e){var t=e.docs.map((function(e){var t=Object(s.a)({userId:"",title:"",blocks:[]},e.data());return new Promise(function(){var n=Object(Z.a)(E.a.mark((function n(a,c){var i,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i="Name not found",!t.userId){n.next=6;break}return n.next=4,v.collection("userProfiles").doc(t.userId).get();case 4:r=n.sent,i=Object(s.a)({name:"Name not found"},r.data()).name;case 6:a(Object(s.a)(Object(s.a)({},t),{},{userName:i,id:e.id}));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}));Promise.all(t).then((function(e){i(e)}))}))}),[]),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:e.header,children:[Object(y.jsx)("h1",{children:"Forum"}),Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:e.createButton,children:Object(y.jsxs)(u.b,{to:"/forum/create",className:e.createLink,children:["Create Article ",Object(y.jsx)(_.a,{})]})})]}),Object(y.jsx)("div",{children:c.length?r:Object(y.jsx)(R.a,{color:"primary"})})]})}var $=n(84),q=n.n($),J=Object(l.a)((function(e){return{postButton:{textTransform:"none",fontWeight:"bold",margin:e.spacing(1,0,5,0)},editorContainer:{},editor:{padding:e.spacing(2),textAlign:"left"},header:{textAlign:"left"},titleInput:{backgroundColor:"white",border:"none",outline:"none",boxShadow:e.shadows[3],"& *":{border:"none",outline:"none"},"& input":{fontSize:"2rem",fontWeight:"bold"},"& label":{fontSize:"2rem"}}}}));function K(){var e=J(),t="editor",n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(""),d=Object(o.a)(l,2),j=d[0],u=d[1],m=Object(a.useContext)(x),h=Object(b.g)();Object(a.useEffect)((function(){r(new q.a({holder:t}))}),[]);return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:e.header,children:Object(y.jsx)("h1",{children:"Create Article"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",label:"Article Title",fullWidth:!0,className:e.titleInput,value:j,onChange:function(e){return u(e.target.value)}}),Object(y.jsx)(L.a,{className:e.editor,id:t})]}),Object(y.jsxs)(I.a,{variant:"contained",color:"primary",className:e.postButton,fullWidth:!0,onClick:function(){i&&m&&i.save().then((function(e){var t=Object(s.a)(Object(s.a)({},e),{},{userId:m.uid,title:j});v.collection("articles").add(t),i.clear(),u(""),h.push(k("/forum"))})).catch()},children:["Post Article ",Object(y.jsx)(_.a,{})]})]})}var Q=n(167),X=n(166),ee=n(161),te=Object(l.a)((function(e){return{commentsContainer:{textAlign:"left"},createButton:{textTransform:"none",fontWeight:"bold"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},commentInput:{display:"flex"},closedCommentInput:{},commentCard:{marginTop:e.spacing(1),padding:e.spacing(1)},commentCardUserName:{margin:0,fontSize:"1rem"},commentCardContent:{margin:0}}}));function ne(e){var t=e.articleId,n=te(),c=Object(a.useState)([]),i=Object(o.a)(c,2),r=i[0],l=i[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),u=j[0],b=j[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),O=h[0],f=h[1],p=Object(a.useRef)(document.createElement("input")),g=Object(a.useContext)(x),C=r.map((function(e){return Object(y.jsxs)(V.a,{className:n.commentCard,children:[Object(y.jsx)("h4",{className:n.commentCardUserName,children:e.userName}),Object(y.jsx)("p",{className:n.commentCardContent,children:e.content})]},e.id)}));return Object(a.useEffect)((function(){v.collection("articleComments").where("articleId","==",t).onSnapshot((function(e){var n=e.docs.map((function(e){return new Promise((function(n,a){var c=Object(s.a)({userName:"Anonymous",id:e.id,content:"",articleId:t,userId:""},e.data());return v.collection("userProfiles").doc(c.userId).get().then((function(e){var t=Object(s.a)({name:""},e.data()).name;c.userName=t,n(c)}))}))}));Promise.all(n).then((function(e){return l(e)}))}))}),[t]),Object(a.useEffect)((function(){u&&p.current.focus()}),[u]),Object(y.jsxs)("div",{className:n.commentsContainer,children:[Object(y.jsxs)("div",{className:n.header,children:[Object(y.jsx)("h3",{children:"Comments"}),Object(y.jsxs)(I.a,{variant:"contained",color:"primary",className:n.createButton,onClick:function(){f(""),b(!0)},children:["Write Comment ",Object(y.jsx)(_.a,{})]})]}),u&&Object(y.jsx)(X.a,{onClickAway:function(e){b(!1)},children:Object(y.jsxs)("form",{className:"".concat(n.commentInput," ").concat(!u&&n.closedCommentInput),onSubmit:function(e){if(e.preventDefault(),g){var n={content:O,articleId:t,userId:g.uid};v.collection("articleComments").add(n),f(""),b(!1)}},children:[Object(y.jsx)(ee.a,{type:"text",placeholder:"Your comment",fullWidth:!0,inputRef:p,value:O,required:!0,onChange:function(e){return f(e.target.value)}}),Object(y.jsx)(I.a,{variant:"contained",color:"primary",className:n.createButton,type:"submit",children:"Post"})]})}),Object(y.jsx)("div",{children:C})]})}var ae=Object(l.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",alignItems:"center"},articleDetails:{textAlign:"left"},articleTitle:{margin:0},articleUserName:{margin:0,color:e.palette.text.secondary},deleteButton:{textTransform:"none",fontWeight:"bold",backgroundColor:e.palette.error.main,color:"white","&:hover":{backgroundColor:e.palette.error.dark}},articleBody:{whiteSpace:"pre-line",padding:e.spacing(2),marginTop:e.spacing(2),textAlign:"left","& p":{margin:0}},commentsContainer:{textAlign:"left"}}}));function ce(){var e=ae(),t=Object(b.h)().id,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useContext)(x),d=Object(b.g)();Object(a.useEffect)((function(){v.collection("articles").doc(t).get().then((function(e){var t=Object(s.a)({userId:"",title:"",blocks:[]},e.data());t.userId&&v.collection("userProfiles").doc(t.userId).get().then((function(n){var a=Object(s.a)({name:"Name not found"},n.data()).name,c=Object(s.a)(Object(s.a)({},t),{},{userName:a,id:e.id});r(c)}))}))}),[t]);return Object(y.jsx)("div",{children:i?Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:e.header,children:[Object(y.jsxs)("div",{className:e.articleDetails,children:[Object(y.jsx)("h1",{className:e.articleTitle,children:i.title}),Object(y.jsxs)("h2",{className:e.articleUserName,children:["By ",i.userName]})]}),l&&i&&l.uid===i.userId?Object(y.jsxs)(I.a,{variant:"contained",className:e.deleteButton,onClick:function(){i&&(v.collection("articles").doc(i.id).delete(),d.push(k("/forum")))},children:["Delete Article ",Object(y.jsx)(Q.a,{})]}):null]}),Object(y.jsx)(L.a,{className:e.articleBody,elevation:3,children:i.blocks.map((function(e,t){return Object(y.jsx)("p",{dangerouslySetInnerHTML:{__html:e.data.text}},t)}))}),Object(y.jsx)(ne,{articleId:i.id})]}):Object(y.jsx)(R.a,{color:"primary"})})}var ie=n(171),re=n(175),se=n(177),oe=n(168),le=n(169),de=n(170),je=Object(l.a)((function(e){return{container:{width:e.breakpoints.values.sm,maxWidth:"100%"},title:{"& > *":{fontWeight:"bold"}},description:{margin:0},deleteButton:{textTransform:"none",fontWeight:"bold",backgroundColor:e.palette.error.main,color:"white","&:hover":{backgroundColor:e.palette.error.dark}}}}));function ue(e){var t=e.open,n=e.setIsFileDetailOpen,c=e.file,i=e.getFiles,r=je(),s=Object(a.useContext)(x);return Object(a.useEffect)((function(){}),[c]),Object(y.jsx)(re.a,{open:t,onClose:function(){return n(!1)},children:c&&Object(y.jsxs)(d.a,{className:r.container,maxWidth:"sm",children:[Object(y.jsx)(se.a,{className:r.title,children:c.ref.name}),Object(y.jsxs)(oe.a,{children:[Object(y.jsx)("p",{className:r.description,children:c.description}),Object(y.jsxs)(le.a,{children:[s&&s.uid===c.userId&&Object(y.jsx)(I.a,{variant:"contained",className:r.deleteButton,children:Object(y.jsx)(Q.a,{onClick:function(){c&&(N.ref().child(c.ref.name).delete().then((function(){i()})),n(!1))}})}),Object(y.jsx)("a",{href:c.url,download:!0,children:Object(y.jsx)(I.a,{variant:"contained",color:"primary",children:Object(y.jsx)(de.a,{})})})]})]})]})})}var be=Object(l.a)((function(e){return{uploadForm:{display:"flex",flexDirection:"column",padding:e.spacing(0,3,3,3)},uploadFormInput:{marginBottom:e.spacing(2)}}}));function me(e){var t=e.open,n=e.setIsFileUploadOpen,c=e.getFiles,i=be(),r=Object(a.useState)(null),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),b=u[0],m=u[1],h=Object(a.useContext)(x);return Object(y.jsxs)(re.a,{open:t,onClose:function(){return n(!1)},children:[Object(y.jsx)(se.a,{children:"Upload File"}),Object(y.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),l&&h){var t={customMetadata:{description:b,userId:h.uid}};N.ref().child(l.name).put(l,t).then((function(){m(""),n(!1),c()}))}},className:i.uploadForm,children:[Object(y.jsx)(ee.a,{type:"file",name:"file",onChange:function(e){if(e.target.files){var t=e.target.files[0];d(t)}},className:i.uploadFormInput}),Object(y.jsx)(T.a,{type:"text",name:"description",label:"Description",variant:"outlined",value:b,onChange:function(e){return m(e.target.value)},className:i.uploadFormInput}),Object(y.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",children:"Upload"})]})]})}var he=Object(l.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",alignItems:"center"},uploadButton:{textTransform:"none",fontWeight:"bold"},fileCardsContainer:{display:"flex",justifyContent:"start",flexWrap:"wrap"},fileCard:{cursor:"pointer",width:200,textAlign:"left",margin:e.spacing(0,2,2,0)},fileCardTitle:{margin:0,fontSize:"1rem","&:hover":{textDecoration:"underline"}},fileCardUserName:{margin:0,color:e.palette.text.secondary,fontWeight:e.typography.fontWeightRegular,fontSize:"1rem","&:hover":{textDecoration:"underline"}}}}));function Oe(){var e=he(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),d=l[0],j=l[1],u=Object(a.useState)([]),b=Object(o.a)(u,2),m=b[0],h=b[1],O=Object(a.useState)(null),f=Object(o.a)(O,2),p=f[0],x=f[1],g=m.map((function(t){return Object(y.jsx)(V.a,{className:e.fileCard,children:Object(y.jsxs)(z.a,{children:[Object(y.jsx)("h2",{className:e.fileCardTitle,onClick:function(){return C(t)},children:t.ref.name}),Object(y.jsxs)("h3",{className:e.fileCardUserName,children:["By ",t.userName]})]})},t.ref.name)})),C=function(e){x(e),j(!0)},k=function(){N.ref().listAll().then((function(e){var t=e.items.map((function(e){return new Promise((function(t,n){return e.getMetadata().then((function(n){var a=Object(s.a)({userId:"unknown",description:"no description"},n.customMetadata),c=a.userId,i=a.description;e.getDownloadURL().then((function(n){v.collection("userProfiles").doc(c).get().then((function(a){var r=Object(s.a)({name:"Unknown"},a.data()).name;t({ref:e,userName:r,description:i,url:n,userId:c})}))}))}))}))}));Promise.all(t).then((function(e){h(e)}))}))};return Object(a.useEffect)((function(){k()}),[]),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:e.header,children:[Object(y.jsx)("h1",{children:"Repository"}),Object(y.jsxs)(I.a,{variant:"contained",color:"primary",className:e.uploadButton,onClick:function(){return i(!0)},children:["Upload File ",Object(y.jsx)(ie.a,{})]})]}),Object(y.jsx)("div",{className:"".concat(m.length?e.fileCardsContainer:""),children:m.length?g:Object(y.jsx)(R.a,{color:"primary"})}),Object(y.jsx)(me,{open:c,setIsFileUploadOpen:i,getFiles:k}),Object(y.jsx)(ue,{open:d,setIsFileDetailOpen:j,file:p,getFiles:k})]})}var fe=Object(l.a)((function(e){return{details:{padding:e.spacing(3)},container:{textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},fullName:{},editButton:Object(m.a)({textTransform:"none",fontWeight:"bold"},e.breakpoints.down("sm"),{}),editLink:Object(m.a)({},e.breakpoints.down("sm"),{marginBottom:e.spacing(3)}),detailsSection:{borderBottom:"2px solid ".concat(e.palette.divider),paddingBottom:e.spacing(1)},detailsSectionTitle:{margin:0}}}));function pe(){var e=Object(a.useContext)(x),t=fe();return Object(y.jsx)("div",{children:e&&Object(y.jsxs)("div",{className:t.container,children:[Object(y.jsxs)("div",{className:t.header,children:[Object(y.jsx)("h1",{className:t.fullName,children:e.name}),Object(y.jsx)(u.b,{to:k("/profile/edit"),className:t.editLink,children:Object(y.jsxs)(I.a,{variant:"contained",color:"primary",className:t.editButton,children:["Edit Profile ",Object(y.jsx)(_.a,{})]})})]}),Object(y.jsx)(L.a,{className:t.details,children:Object(y.jsxs)("div",{className:t.detailsSection,children:[Object(y.jsx)("h2",{className:t.detailsSectionTitle,children:"Bio"}),Object(y.jsx)("div",{children:e.bio})]})})]})})}var xe=Object(l.a)((function(e){return{container:{textAlign:"left"},formContainer:{padding:e.spacing(3)},form:{display:"flex",flexDirection:"column"},title:{margin:0},saveButton:{alignSelf:"flex-end",marginTop:e.spacing(2)}}}));function ge(){var e=xe(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(a.useContext)(x),u=Object(b.g)();Object(a.useEffect)((function(){j&&(i(j.name),d(j.bio||""))}),[j]);return Object(y.jsx)("div",{className:e.container,children:Object(y.jsxs)(L.a,{elevation:3,className:e.formContainer,children:[Object(y.jsx)("h1",{className:e.title,children:"Edit Your Profile"}),Object(y.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),j&&v.collection("userProfiles").doc(j.uid).update({name:c,bio:l}).then((function(){return u.push(k("/profile"))}))},children:[Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",label:"Full Name",value:c,onChange:function(e){return i(e.target.value)}}),Object(y.jsx)(T.a,{variant:"outlined",margin:"normal",label:"Bio",multiline:!0,value:l,onChange:function(e){return d(e.target.value)}}),Object(y.jsx)(I.a,{className:e.saveButton,variant:"contained",color:"primary",type:"submit",children:"Save Changes"})]})]})})}var ve=Object(l.a)((function(e){return{content:{backgroundImage:"url(".concat(j,")"),minHeight:740,backgroundSize:"cover",backgroundRepeat:"no-repeat",paddingTop:e.spacing(5)}}}));var Ce=function(){var e=ve(),t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){C.onAuthStateChanged((function(e){if(e){var t=Object(s.a)(Object(s.a)({},e),{},{name:""});v.collection("userProfiles").doc(e.uid).onSnapshot((function(e){t=Object(s.a)(Object(s.a)({},t),e.data()),i(t)}))}else i(e)}))}),[]),Object(y.jsx)(u.a,{children:Object(y.jsx)(x.Provider,{value:c,children:Object(y.jsxs)("div",{children:[Object(y.jsx)(S,{}),Object(y.jsx)("main",{className:"App ".concat(e.content),children:Object(y.jsx)(d.a,{maxWidth:"md",children:Object(y.jsxs)(b.d,{children:[Object(y.jsx)(b.b,{exact:!0,path:k("/"),children:Object(y.jsx)(A,{})}),Object(y.jsx)(b.b,{exact:!0,path:k("/profile"),children:c?Object(y.jsx)(pe,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/profile/edit"),children:c?Object(y.jsx)(ge,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/forum"),children:c?Object(y.jsx)(G,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/forum/create"),children:c?Object(y.jsx)(K,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/forum/view/:id"),children:c?Object(y.jsx)(ce,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/repository"),children:c?Object(y.jsx)(Oe,{}):Object(y.jsx)(b.a,{to:k("/signin")})}),Object(y.jsx)(b.b,{exact:!0,path:k("/signup"),children:c?Object(y.jsx)(b.a,{to:"/knowledge-management-system/"}):Object(y.jsx)(D,{})}),Object(y.jsx)(b.b,{exact:!0,path:k("/signin"),children:c?Object(y.jsx)(b.a,{to:"/knowledge-management-system/"}):Object(y.jsx)(P,{})})]})})})]})})})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},ke=n(172),ye=n(85),we=Object(ye.a)({palette:{primary:{main:"#214EA7"},secondary:{main:"#FDD548"}}});r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(ke.a,{theme:we,children:Object(y.jsx)(Ce,{})})}),document.getElementById("root")),Ne()},99:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.62fccb53.chunk.js.map